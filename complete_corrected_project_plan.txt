# ğŸ¯ PROJEKTPLAN: Facebook API Data Analyser (fb-page-analyzer)

## ğŸ“‹ PROJEKTÃ–VERSIKT

**MÃ¥l:** Skapa tidserie-baserad webbapp fÃ¶r analys av Facebook API-data (mÃ¥nadsvis sidstatistik)  
**Dataformat:** CSV-filer med format `FB_YYYY_MM.csv`  
**Arkitektur:** ModulÃ¤r, anti-monolit design  
**UI-titel:** "Facebook API data analyser"  
**Mapp/projekt namn:** `fb-page-analyzer`

---

## ğŸ—‚ï¸ SLUTGILTIG PROJEKTSTRUKTUR (KORRIGERAD)

```
fb-page-analyzer/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                      # KÃ¤rnlogik (datamodeller, processing)
â”‚   â”‚   â”œâ”€â”€ timeseries_models.js   # Datastrukturer fÃ¶r tidsserier
â”‚   â”‚   â”œâ”€â”€ period_extractor.js    # Extrahera datum frÃ¥n filnamn
â”‚   â”‚   â””â”€â”€ csv_processor.js       # Bearbeta mÃ¥nads-CSV:er
â”‚   â”œâ”€â”€ services/                  # Business logic
â”‚   â”‚   â”œâ”€â”€ timeseries_analytics.js # Tidserie-berÃ¤kningar
â”‚   â”‚   â”œâ”€â”€ reach_calculator.js    # Hantera icke-summerbar Reach
â”‚   â”‚   â””â”€â”€ aggregation_service.js # Korrekta aggregeringar Ã¶ver tid
â”‚   â”œâ”€â”€ components/                # React-komponenter
â”‚   â”‚   â”œâ”€â”€ TimeseriesUploader.jsx # Multi-CSV uppladdning
â”‚   â”‚   â”œâ”€â”€ PeriodSelector.jsx     # VÃ¤lj mÃ¥nader att analysera
â”‚   â”‚   â”œâ”€â”€ PageTimeseriesView.jsx # Sidor Ã¶ver tid
â”‚   â”‚   â”œâ”€â”€ MonthlyComparisonView.jsx # JÃ¤mfÃ¶r mÃ¥nader
â”‚   â”‚   â”œâ”€â”€ TrendAnalysisView.jsx  # Trend-visualiseringar
â”‚   â”‚   â””â”€â”€ ui/                    # UI-komponenter (frÃ¥n original)
â”‚   â”‚       â”œâ”€â”€ button.jsx
â”‚   â”‚       â”œâ”€â”€ card.jsx
â”‚   â”‚       â”œâ”€â”€ table.jsx
â”‚   â”‚       â”œâ”€â”€ input.jsx
â”‚   â”‚       â”œâ”€â”€ select.jsx
â”‚   â”‚       â”œâ”€â”€ alert.jsx
â”‚   â”‚       â””â”€â”€ tabs.jsx
â”‚   â”œâ”€â”€ utils/                     # HjÃ¤lpfunktioner
â”‚   â”‚   â”œâ”€â”€ timeseries_storage.js  # MÃ¥nadsvis lagring
â”‚   â”‚   â”œâ”€â”€ period_validator.js    # Validera filnamn och struktur
â”‚   â”‚   â””â”€â”€ metric_categorizer.js  # Kategorisera metrics
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ utils.js              # Generella utilities
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ globals.css           # Global styling
â”‚   â”œâ”€â”€ main.jsx                  # Entry point (VIKTIGT: BehÃ¶vs fÃ¶r Vite)
â”‚   â””â”€â”€ App.jsx                   # Huvudkomponent
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ Icon.png
â”œâ”€â”€ index.html                    # âš ï¸ KRITISKT: Ligger i projektrot, INTE i public/
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js            # âš ï¸ KRITISKT: MÃ¥ste vara ES Module format
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## ğŸ“Š DATASPECIFIKATION

### CSV-STRUKTUR (per mÃ¥nads-fil):
```csv
Page,Page ID,Reach,Engaged Users,Engagements,Reactions,Publications,Status,Comment
```

### KRITISKA DATAHANTERINGSREGLER:
- **Reach & Engaged Users:** Kan ALDRIG summeras Ã¶ver mÃ¥nader (unika personer per mÃ¥nad)
- **Engagements, Reactions, Publications, Comment:** Kan summeras Ã¶ver mÃ¥nader
- **Period:** Extraheras frÃ¥n filnamn `FB_YYYY_MM.csv` (FB_2025_08.csv = Augusti 2025)
- **En CSV = En mÃ¥nads aggregerad data fÃ¶r alla Facebook-sidor**
- **73 rader per fil** (en rad per Facebook-sida)

### EXEMPEL PÃ… TILLGÃ„NGLIG TESTDATA:
- `FB_2025_08.csv` - Augusti 2025 data
- `FB_2025_02.csv` - Februari 2025 data

---

# ğŸš€ FAS-UPPDELNING (8 FASER TOTALT)

## **FAS 1: GRUNDKONFIGURATION** âœ… KOMPLETT
**MÃ¥l:** SÃ¤tt upp projekt med konfiguration och bas-UI komponenter  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 30-45 min  

### DELIVERABLES (âœ… KLARA):
- [x] Komplett projektstruktur skapad
- [x] package.json med alla dependencies
- [x] vite.config.js, tailwind.config.js, postcss.config.js (ES Module format)
- [x] index.html med korrekt titel "Facebook API data analyser" (i projektrot)
- [x] main.jsx som entry point fÃ¶r Vite
- [x] UI-komponenter kopierade frÃ¥n original (button, card, table, etc.)
- [x] lib/utils.js med tidserie-tillÃ¤gg
- [x] globals.css med Facebook brand colors
- [x] .gitignore, README.md
- [x] Bas App.jsx struktur som fungerar och Ã¤r testad

### KORRIGERAT PROJEKTSTRUKTUR-KOMMANDO:
```bash
PROJECT_NAME="fb-page-analyzer"
mkdir -p $PROJECT_NAME/{src/{core,services,components/{ui},utils,lib,styles},public}

# Core business logic
touch $PROJECT_NAME/src/core/{timeseries_models.js,period_extractor.js,csv_processor.js}

# Services  
touch $PROJECT_NAME/src/services/{timeseries_analytics.js,reach_calculator.js,aggregation_service.js}

# Main components
touch $PROJECT_NAME/src/components/{TimeseriesUploader.jsx,PeriodSelector.jsx,PageTimeseriesView.jsx,MonthlyComparisonView.jsx,TrendAnalysisView.jsx}

# UI components
touch $PROJECT_NAME/src/components/ui/{button.jsx,card.jsx,table.jsx,input.jsx,select.jsx,alert.jsx,tabs.jsx}

# Utils och lib
touch $PROJECT_NAME/src/utils/{timeseries_storage.js,period_validator.js,metric_categorizer.js}
touch $PROJECT_NAME/src/lib/utils.js

# Styling
touch $PROJECT_NAME/src/styles/globals.css

# Huvudfiler
touch $PROJECT_NAME/src/{main.jsx,App.jsx}

# Konfiguration - VIKTIGT: index.html i projektrot
touch $PROJECT_NAME/{package.json,vite.config.js,tailwind.config.js,postcss.config.js}
touch $PROJECT_NAME/{index.html,.gitignore,README.md}

# Assets
touch $PROJECT_NAME/public/{favicon.ico,Icon.png}

echo "âœ… KOMPLETT fb-page-analyzer struktur skapad (KORRIGERAD VERSION)!"
```

---

## **FAS 2: DATAHANTERING (CORE)** ğŸ”„
**MÃ¥l:** Implementera kÃ¤rnlogik fÃ¶r tidserie-datahantering  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 45-60 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 1 komplett (grundkonfiguration klar och testad)
- CSV-filer tillgÃ¤ngliga fÃ¶r testning

### DELIVERABLES:
- [ ] timeseries_models.js (datastrukturer fÃ¶r Facebook-sidor och mÃ¥nadsdata)
- [ ] period_extractor.js (extrahera Ã¥r/mÃ¥nad frÃ¥n filnamn FB_YYYY_MM.csv)
- [ ] csv_processor.js (parsa och validera CSV med 9 kolumner)
- [ ] Enhetstester fÃ¶r alla funktioner
- [ ] Hantering av felaktiga filnamn/data

### START-PROMPT FÃ–R FAS 2:
```
Jag startar FAS 2 av fb-page-analyzer projektet. FAS 1 (grundkonfiguration) Ã¤r komplett och testad.

VIKTIGT: index.html ligger i projektets rot (inte public/) och postcss.config.js anvÃ¤nder ES Module format.

Implementera core-skripten fÃ¶r datahantering:
1. timeseries_models.js - datastrukturer fÃ¶r Facebook-sidor och tidsserier
2. period_extractor.js - extrahera Ã¥r/mÃ¥nad frÃ¥n filnamn som FB_2025_08.csv â†’ {year: 2025, month: 8}
3. csv_processor.js - parsa CSV med kolumner: Page,Page ID,Reach,Engaged Users,Engagements,Reactions,Publications,Status,Comment

Dessa CSV-filer finns fÃ¶r testning: FB_2025_08.csv, FB_2025_02.csv (73 rader vardera)
AnvÃ¤nd Papa Parse fÃ¶r CSV-hantering som i originalappen.

Leverera max 2 filer per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 3: BUSINESS LOGIC (SERVICES)** ğŸ”„
**MÃ¥l:** Implementera berÃ¤kningslogik och aggregeringar  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 45-60 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 2 komplett (core datahantering klar)
- CSV test-data validerad

### DELIVERABLES:
- [ ] timeseries_analytics.js (grundlÃ¤ggande analys och trend-berÃ¤kningar)
- [ ] reach_calculator.js (hantera icke-summerbar Reach korrekt)
- [ ] aggregation_service.js (summera Ã¶ver mÃ¥nader, berÃ¤kna medelvÃ¤rden)
- [ ] Korrekt hantering av summerbara vs icke-summerbara metrics
- [ ] Trend-berÃ¤kningar (mÃ¥nadsvis fÃ¶rÃ¤ndring i procent)

### START-PROMPT FÃ–R FAS 3:
```
Jag startar FAS 3 av fb-page-analyzer projektet. FAS 1-2 Ã¤r kompletta.

Implementera services fÃ¶r business logic:
1. timeseries_analytics.js - grundlÃ¤ggande analysverktyg och trend-berÃ¤kningar
2. reach_calculator.js - hantera Reach som ALDRIG kan summeras Ã¶ver mÃ¥nader (unika personer)
3. aggregation_service.js - summera Engagements/Reactions/Publications Ã¶ver mÃ¥nader, berÃ¤kna genomsnitt fÃ¶r Reach

KRITISKT: Reach och Engaged Users Ã¤r unika personer per mÃ¥nad och kan aldrig adderas.
Andra metrics (Engagements, Reactions, Publications, Comment) kan summeras Ã¶ver tid.

Leverera max 2 filer per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 4: UTILITIES OCH LAGRING** ğŸ”„
**MÃ¥l:** Implementera datalagring och valideringsfunktioner  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 30-45 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 3 komplett (business logic klar)
- Services testade och fungerar

### DELIVERABLES:
- [ ] timeseries_storage.js (lagra mÃ¥nadsdata i localStorage/IndexedDB)
- [ ] period_validator.js (validera filnamn FB_YYYY_MM.csv och dataformat)
- [ ] metric_categorizer.js (kategorisera summerbara vs icke-summerbara metrics)
- [ ] Error handling fÃ¶r korrupta data
- [ ] Storage quota management

### START-PROMPT FÃ–R FAS 4:
```
Jag startar FAS 4 av fb-page-analyzer projektet. FAS 1-3 Ã¤r kompletta.

Implementera utilities och lagring:
1. timeseries_storage.js - lagra mÃ¥nadsdata, hantera storage limits
2. period_validator.js - validera FB_YYYY_MM.csv format och CSV-innehÃ¥ll (9 kolumner)
3. metric_categorizer.js - definiera vilka metrics som kan summeras vs ej

Ã…teranvÃ¤nd lagringsstrategier frÃ¥n originalappen (webStorageService.js) men anpassa fÃ¶r mÃ¥nadsdata.
Ingen kolumnmappning behÃ¶vs - hÃ¥rdkoda kolumnnamnen frÃ¥n specifikationen.

Leverera max 2 filer per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 5: UPLOAD OCH DATAFLÃ–DE** ğŸ”„
**MÃ¥l:** Implementera CSV-uppladdning och initial datavisning  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 45-60 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 4 komplett (utilities och lagring klar)
- Core och services testade

### DELIVERABLES:
- [ ] TimeseriesUploader.jsx (drag-drop fÃ¶r multiple CSV:er)
- [ ] Filnamnsvalidering (FB_YYYY_MM.csv format)
- [ ] Progress indicators fÃ¶r upload
- [ ] Integration med core/services frÃ¥n tidigare faser
- [ ] Initial datavisning efter upload (lista Ã¶ver uppladdade mÃ¥nader)
- [ ] Error handling och user feedback

### START-PROMPT FÃ–R FAS 5:
```
Jag startar FAS 5 av fb-page-analyzer projektet. FAS 1-4 Ã¤r kompletta.

Implementera TimeseriesUploader.jsx:
1. Drag-drop interface fÃ¶r multiple CSV-filer
2. Validera filnamn enligt FB_YYYY_MM.csv format
3. Progress indicators och error handling
4. Integration med core och services frÃ¥n tidigare faser
5. Initial lista Ã¶ver uppladdade mÃ¥nader med grundstatistik

Ã…teranvÃ¤nd design frÃ¥n originalappens FileUploader men anpassa fÃ¶r multiple filer.
AnvÃ¤nd samma UI-komponenter frÃ¥n fas 1.

Leverera max 2 komponenter per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 6: HUVUDVISUALISERINGAR** ğŸ”„
**MÃ¥l:** Implementera primÃ¤ra datavisningar  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 60-75 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 5 komplett (upload fungerar)
- Testdata uppladdad och validerad

### DELIVERABLES:
- [ ] PageTimeseriesView.jsx (en Facebook-sidas prestanda Ã¶ver tid)
- [ ] MonthlyComparisonView.jsx (alla sidor fÃ¶r en specifik mÃ¥nad)
- [ ] Tabeller med sortering och export (CSV/Excel)
- [ ] Korrekt hantering av Reach vs summerbara metrics i UI
- [ ] Tydlig markering av icke-summerbara vÃ¤rden

### START-PROMPT FÃ–R FAS 6:
```
Jag startar FAS 6 av fb-page-analyzer projektet. FAS 1-5 Ã¤r kompletta.

Implementera huvudvisualiseringar:
1. PageTimeseriesView.jsx - visa en Facebook-sidas utveckling Ã¶ver mÃ¥nader
2. MonthlyComparisonView.jsx - jÃ¤mfÃ¶r alla sidor fÃ¶r en specifik mÃ¥nad

Ã…teranvÃ¤nd tabelldesign frÃ¥n originalappens AccountView/PostView.
VIKTIGT: Visa tydligt att Reach inte kan summeras Ã¶ver mÃ¥nader (markera i UI).
Inkludera export till CSV/Excel.

Leverera max 2 komponenter per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 7: TREND-ANALYS** ğŸ”„
**MÃ¥l:** Implementera avancerade analysverktyg  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 45-60 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 6 komplett (huvudvisualiseringar fungerar)
- Testdata med multiple mÃ¥nader

### DELIVERABLES:
- [ ] TrendAnalysisView.jsx (trend-visualiseringar och utvecklingsanalys)
- [ ] PeriodSelector.jsx (vÃ¤lj mÃ¥nadsintervall fÃ¶r analys)
- [ ] Trend-berÃ¤kningar (procentuell fÃ¶rÃ¤ndring mÃ¥nad-fÃ¶r-mÃ¥nad)
- [ ] Best/worst performing sidor per period
- [ ] GenomsnittsberÃ¤kningar Ã¶ver tid

### START-PROMPT FÃ–R FAS 7:
```
Jag startar FAS 7 av fb-page-analyzer projektet. FAS 1-6 Ã¤r kompletta.

Implementera avancerade analysverktyg:
1. TrendAnalysisView.jsx - visa trends och utveckling Ã¶ver mÃ¥nader
2. PeriodSelector.jsx - vÃ¤lj vilka mÃ¥nader att inkludera i analysen

Fokus pÃ¥:
- Procentuell fÃ¶rÃ¤ndring mÃ¥nad-fÃ¶r-mÃ¥nad per Facebook-sida
- Ranking av bÃ¤st/sÃ¤mst presterande sidor
- Genomsnittlig utveckling Ã¶ver perioder

AnvÃ¤nd services frÃ¥n fas 3 fÃ¶r alla berÃ¤kningar.
Leverera max 2 komponenter per omgÃ¥ng enligt projektinstruktionerna.
```

---

## **FAS 8: INTEGRATION OCH FINPUTSNING** ğŸ”„
**MÃ¥l:** SlutfÃ¶ra appen med navigation och error handling  
**Chattar:** 1 chatt  
**Tidsuppskattning:** 30-45 min  

### FÃ–RUTSÃ„TTNINGAR:
- FAS 7 komplett (alla huvudkomponenter klara)
- Alla faser testade individuellt

### DELIVERABLES:
- [ ] App.jsx final integration (tab-navigation mellan alla vyer)
- [ ] Error boundaries och loading states
- [ ] Memory management och performance-optimering
- [ ] Final testing och bugfixes
- [ ] README uppdatering med anvÃ¤ndningsinstruktioner
- [ ] Deployment-redo applikation

### START-PROMPT FÃ–R FAS 8:
```
Jag startar FAS 8 av fb-page-analyzer projektet. Alla tidigare faser (1-7) Ã¤r kompletta.

SlutfÃ¶r applikationen:
1. App.jsx - integrera alla komponenter med tab-navigation som originalappen
2. Error boundaries och loading states fÃ¶r robust anvÃ¤ndarupplevelse
3. Final testing och bugfixes
4. README uppdatering med anvÃ¤ndningsinstruktioner

AnvÃ¤nd samma navigationsdesign som originalappen (Tabs fÃ¶r olika vyer).
Fokus pÃ¥ anvÃ¤ndarvÃ¤nlighet och prestanda.

Leverera max 2 filer per omgÃ¥ng enligt projektinstruktionerna.
```

---

## ğŸ”„ MELLAN-CHATTAR CHECKLISTA

### INNAN DU STARTAR NY CHATT:
1. âœ… Verifiera att fÃ¶regÃ¥ende fas Ã¤r 100% komplett
2. âœ… Testa grundfunktionalitet i fÃ¶regÃ¥ende fas
3. âœ… BekrÃ¤fta att alla deliverables Ã¤r levererade
4. âœ… Identifiera eventuella dependencies till nÃ¤sta fas

### I BÃ–RJAN AV NY CHATT:
1. âœ… Referera till denna projektplan
2. âœ… Ange tydligt vilken fas du startar
3. âœ… BekrÃ¤fta att fÃ¶rutsÃ¤ttningar frÃ¥n fÃ¶regÃ¥ende fas Ã¤r uppfyllda
4. âœ… AnvÃ¤nd exakt start-prompt frÃ¥n relevant fas

### BACKUP-POLICY:
- **FÃ¶rsta filen i varje chatt:** AnvÃ¤nd `ORIGINAL_` prefix
- **EfterfÃ¶ljande filer:** AnvÃ¤nd fas-specifikt prefix (t.ex. `fas2_core_`)
- **Kritiska milstolpar:** Extra backup med `milestone_` prefix

---

## ğŸ“Š FRAMGÃ…NGSINDIKATORER

### TEKNIK:
- âœ… Ingen fil > 300 rader
- âœ… ModulÃ¤r arkitektur med tydlig separation
- âœ… Korrekt hantering av summerbara vs icke-summerbara metrics
- âœ… Robust error handling

### ANVÃ„NDBARHET:
- âœ… Samma visuella design som originalappen
- âœ… Intuitive navigation och anvÃ¤ndargrÃ¤nssnitt  
- âœ… Tydlig feedback fÃ¶r anvÃ¤ndaraktioner
- âœ… Export-funktionalitet fungerar

### DATA-INTEGRITET:
- âœ… Reach summeras ALDRIG Ã¶ver mÃ¥nader
- âœ… Korrekt periodidentifiering frÃ¥n filnamn
- âœ… Validering av CSV-format och innehÃ¥ll
- âœ… SÃ¤ker datalagring och Ã¥terhÃ¤mtning

---

## ğŸ› ï¸ KRITISKA KONFIGURATIONER (FRÃ…N FAS 1 KORRIGERINGAR)

### postcss.config.js MÃ…STE vara ES Module:
```javascript
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

### main.jsx MÃ…STE finnas som entry point:
```javascript
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './styles/globals.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

### index.html MÃ…STE ligga i projektets rot (inte public/)

---

**ğŸ“ SLUTNOTERING:** Denna projektplan fungerar som kontrakt mellan chattar. Varje fas mÃ¥ste completed completely innan nÃ¤sta pÃ¥bÃ¶rjas. Vid avvikelser, uppdatera projektplanen fÃ¶rst.

**STATUS:** FAS 1 KOMPLETT âœ… och testad | Redo fÃ¶r FAS 2 ğŸš€